// Дана переменная int64. Разработать программу которая устанавливает i-й бит в 1 или 0.
// +
fn one_bit(num: i64, pos: usize) -> i64 {
    num | (1 << pos)
}

fn zero_bit(num: i64, pos: usize) -> i64 {
    num & !(1 << pos)
}

fn main() {
    let num: i64 = 0b1011; // число
    let bitpos = 2; // позиция бита

    let new_num = one_bit(num, bitpos);
    println!(
        "Число после установки {}-го бита в 1: {:b}",
        bitpos, new_num
    );

    let new_num = zero_bit(num, bitpos);
    println!(
        "Число после установки {}-го бита в 0: {:b}",
        bitpos, new_num
    );
}
Задание 1. Резервная копия реестра
1. Создание копии реестра
Откройте редактор реестра:

Нажмите комбинацию клавиш Win + R.
Введите regedit и нажмите Enter.
Подтвердите запуск редактора реестра (если появится окно контроля учётных записей).
Создайте резервную копию:

В редакторе реестра выберите пункт меню Файл → Экспорт....
В появившемся окне выберите место для сохранения файла (например, на рабочем столе), задайте имя файла (например, registry_backup.reg) и убедитесь, что в поле Экспорт диапазон установлено Весь реестр (All).
Нажмите Сохранить.
Проверьте, что файл успешно создан. Убедитесь, что в выбранном месте появился .reg-файл с указанным именем.

2. Изменение обоев рабочего стола при помощи реестра
Примечание: В Windows 10 проще всего менять обои через «Персонализацию». Но в рамках задания рассмотрим способ через реестр.

Откройте редактор реестра (если он уже закрыт):

Нажмите Win + R, введите regedit, нажмите Enter.
Перейдите в раздел:

mathematica
Copy
Edit
HKEY_CURRENT_USER\Control Panel\Desktop
Найдите параметр Wallpaper:

Дважды кликните по параметру Wallpaper.
В поле Значение укажите путь к картинке (например, C:\Users\ИмяПользователя\Pictures\new_wallpaper.jpg). Убедитесь, что путь корректный.
Нажмите ОК.
Обновите настройки обоев:

Есть два способа:
Выйти из учётной записи и зайти заново (или перезагрузить компьютер).
Выполнить команду в «Командной строке» (CMD) или PowerShell:
Copy
Edit
RUNDLL32.EXE user32.dll, UpdatePerUserSystemParameters
После выполнения этой команды обычно обои обновляются сразу.
3. Установка отображения версии Windows на рабочем столе
Для отображения версии Windows на рабочем столе используется параметр PaintDesktopVersion.

Откройте редактор реестра.

Перейдите в раздел:

mathematica
Copy
Edit
HKEY_CURRENT_USER\Control Panel\Desktop
Найдите (или создайте) параметр типа REG_DWORD с именем PaintDesktopVersion:

Если параметра нет, создайте его:
Правка → Создать → Параметр DWORD (32 бита).
Назовите параметр PaintDesktopVersion.
Установите значение:
Откройте параметр двойным щелчком.
В поле Значение введите 1 (шестнадцатеричная или десятичная система не принципиальна здесь, значение будет одинаковым).
Нажмите ОК.
Перезагрузите компьютер либо выйдите из учётной записи и зайдите снова. На рабочем столе появится надпись с версией Windows в правом нижнем углу.

4. Восстановление настроек реестра из сохранённого файла
Откройте редактор реестра.
Выберите пункт меню: Файл → Импорт….
В появившемся окне Импорт файла реестра укажите путь к ранее сохранённому файлу (например, registry_backup.reg).
Нажмите Открыть. Если появится запрос контроля учётных записей, подтвердите действие.
Дождитесь окончания процесса восстановления. После завершения закройте редактор реестра.
Проверьте, что изменения отменились (обои вернулись, отображение версии Windows пропало и т.д. — в зависимости от того, что было сделано).
Задание 2. Настройка компьютера
1. Создание точки восстановления системы
Откройте «Система»:
Нажмите Win + R, введите SystemPropertiesProtection.exe, нажмите Enter.
Или через «Панель управления» → «Система» → «Дополнительные параметры системы» → вкладка «Защита системы».
На вкладке Защита системы выберите диск (обычно C:) и нажмите кнопку Настроить…, если защита не включена.
Включите защиту системы, задайте необходимый размер места на диске для точек восстановления (если требуется).
Нажмите Создать, задайте имя точки (например, «Before_reg_changes») и нажмите Создать. Дождитесь окончания создания точки восстановления.
2. Выполнение действий при помощи reg-файла
Для удобства можно создать один .reg-файл, содержащий необходимые ветки и параметры. Каждый блок будет добавлять/изменять нужные настройки.

2.1. Добавление значка «Корзина» в папку «Мой компьютер»
Внимание: в некоторых редакциях Windows 10 может понадобиться дополнительное редактирование ветки реестра, связанной с системными значками. Однако самый распространённый способ – добавлять соответствующий GUID «Корзины» в раздел «NameSpace».

Создайте текстовый файл, назовите его, к примеру, add_recyclebin.reg.

Вставьте туда следующий пример содержимого (GUID «Корзины» – {645FF040-5081-101B-9F08-00AA002F954E}):

reg
Copy
Edit
Windows Registry Editor Version 5.00

[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\MyComputer\NameSpace\{645FF040-5081-101B-9F08-00AA002F954E}]
@="Recycle Bin"
Сохраните файл с расширением .reg.

Дважды кликните по файлу и подтвердите добавление данных в реестр.

Проверьте, открыв «Проводник» → «Этот компьютер»: там должна появиться «Корзина».

2.2. Добавление команды «Редактор реестра» в контекстное меню «Мой компьютер»
Создайте (или дополните) .reg-файл следующим блоком:

reg
Copy
Edit
Windows Registry Editor Version 5.00

[HKEY_CLASSES_ROOT\CLSID\{20D04FE0-3AEA-1069-A2D8-08002B30309D}\shell\OpenReg]
@="Редактор реестра"

[HKEY_CLASSES_ROOT\CLSID\{20D04FE0-3AEA-1069-A2D8-08002B30309D}\shell\OpenReg\command]
@="regedit"
Сохраните и импортируйте этот файл в реестр (двойным кликом и подтверждением).

Теперь, если нажать правой кнопкой мыши на «Мой компьютер (Этот компьютер)» в проводнике, в контекстном меню должна появиться команда Редактор реестра.

2.3. Отключение отображения стрелок ярлыков
Обычно для этого используется параметр IsShortcut или изменение значка ярлыка. Один из способов – удалить параметр IsShortcut для lnk-файлов:

Добавьте в .reg-файл следующий блок:

reg
Copy
Edit
Windows Registry Editor Version 5.00

; Убирает стрелки ярлыков, удаляя IsShortcut
[-HKEY_CLASSES_ROOT\lnkfile\IsShortcut]
(Знак минус - перед HKEY_CLASSES_ROOT указывает на удаление указанного параметра)

Импортируйте в реестр.

Для вступления изменений в силу может потребоваться либо перезагрузка проводника (Explorer), либо выход из учётной записи и вход заново.

2.4. Поменять раскладку клавиатуры в окне приветствия
Чтобы изменить раскладку клавиатуры, которая отображается в окне приветствия (экран входа), необходимо скопировать настройки текущего пользователя в системные параметры. Делается это через «Панель управления» → «Язык» или команду Control intl.cpl → «Дополнительные параметры» → «Копировать параметры…».
Вручную через реестр это также возможно, но проще воспользоваться штатными средствами: в окне «Региональные стандарты» (Region) → вкладка «Дополнительно» → «Копировать параметры».

Однако если требуется именно .reg-файл, необходимо в ветке:

arduino
Copy
Edit
HKEY_USERS\.DEFAULT\Keyboard Layout\Preload
указать нужную раскладку (она определяется специальным кодом, например 00000409 для английской (США), 00000419 для русской и т.д.).

Для русского (например) зададим:
reg
Copy
Edit
Windows Registry Editor Version 5.00

[HKEY_USERS\.DEFAULT\Keyboard Layout\Preload]
"1"="00000419"
Сохраните и импортируйте файл. После этого в окне приветствия системная раскладка должна быть русской. При необходимости добавьте вторую раскладку строкой "2"="00000409" для английской и т.д.
3. Предъявите работу преподавателю
Покажите созданные .reg-файлы, изменённые настройки. Убедитесь, что всё работает согласно требованиям.
4. Создайте reg-файл, восстанавливающий все изменения
Чтобы восстановить настройки обратно, необходимо либо иметь резервный .reg-файл со старыми параметрами, либо вручную прописать «обратные» настройки (например, вернуть IsShortcut, удалить ветку «Recycle Bin» и т.д.).
Пример для восстановления стрелок ярлыков обратно:

reg
Copy
Edit
Windows Registry Editor Version 5.00

[HKEY_CLASSES_ROOT\lnkfile]
"IsShortcut"=""
Аналогично удаляем разделы, которые добавляли и т.д.

Задание 3. Настройка автоматического входа в систему
1. Создание пользователя с логином и паролем
Откройте «Параметры» → «Учётные записи» → «Семья и другие пользователи».
Нажмите «Добавить пользователя для этого компьютера».
Следуйте инструкциям, выберите «У меня нет данных для входа этого человека», затем «Добавить пользователя без учётной записи Microsoft».
Задайте имя пользователя (логин) и пароль.
2. Настройка автоматического входа для нового пользователя
Самый простой способ – отредактировать реестр вручную:

Откройте редактор реестра.
Перейдите в раздел:
Copy
Edit
HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon
Измените (или создайте) параметры:
DefaultUserName: имя пользователя (строка REG_SZ).
DefaultPassword: пароль (строка REG_SZ). Если параметра нет, создайте.
AutoAdminLogon: значение 1 (строка REG_SZ), чтобы включить автологин.
Закройте редактор реестра, перезагрузите компьютер. Должен автоматически зайти указанный пользователь.
Внимание: в целях безопасности хранить пароль в реестре в открытом виде не рекомендуется. Делайте это только в рамках лабораторной работы.

3. Настройка отображения сообщения о количестве оставшихся входов
Требуется уменьшать счётчик на 1 при каждом входе. Для этого можно:

Вариант A: Использовать .bat-файл с REG-командами
Создайте в удобном месте .bat-файл, например C:\Scripts\autologin_counter.bat.

Внутри .bat-файла опишите логику:

bat
Copy
Edit
@echo off

REM Раздел реестра, где хранится счётчик входов
set regKey=HKLM\SOFTWARE\MyAutoLoginCounter
set regValue=Count

REM Получаем текущее значение
FOR /F "tokens=3 skip=2" %%A IN ('REG QUERY %regKey% /v %regValue% 2^>nul') DO (
    set oldValue=%%A
)

if "%oldValue%"=="" (
    REM Если нет значения, создадим его с началом, например, 5
    REG ADD %regKey% /v %regValue% /t REG_DWORD /d 5 /f
    set /a newValue=5
) else (
    set /a newValue=%oldValue%-1
    if %newValue% LSS 0 set newValue=0
    REG ADD %regKey% /v %regValue% /t REG_DWORD /d %newValue% /f
)

REM Отобразим сообщение
echo Осталось входов: %newValue%
pause
Скрипт выше – лишь пример логики. Можно модифицировать под нужные условия.

Настройте автозапуск .bat-файла при входе пользователя:

Нажмите Win + R, введите shell:startup → Enter.
Появится папка автозагрузки для текущего пользователя. Поместите туда ярлык на .bat-файл.
Теперь при автоматическом входе .bat-файл будет запускаться и уменьшать счётчик, отображая оставшееся количество входов.

Вариант B: Использовать параметры в реестре Winlogon
Можно использовать параметры LegalNoticeCaption и LegalNoticeText в разделе:

Copy
Edit
HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon
Однако «динамически» менять их перед каждым входом через один только реестр будет сложнее без какого-либо скрипта, т.к. значение надо обновлять после каждого входа. Поэтому на практике проще воспользоваться скриптом.

Задание 4. Настройка безопасности
1. Создание общей сетевой папки
Создайте папку в удобном месте на локальном диске (например, C:\Shared).
Щёлкните правой кнопкой мыши по папке → Свойства → вкладка Доступ.
Нажмите Расширенная настройка общего доступа → поставьте галочку Открыть общий доступ к этой папке.
Нажмите Разрешения, отрегулируйте права (только чтение или чтение/запись) для нужных пользователей или для «Все» (Everyone), если лабораторная работа не требует ограничений.
Нажмите Применить и ОК.
После этого папка будет видна в сети, если у вас включено обнаружение сети и общий доступ.
2. Запрет неявного доступа к системе
Под «неявным доступом» обычно понимается автоматическая аутентификация, гости без пароля и т.п. В Windows 10 можно:

Отключить гостевую учётную запись или убедиться, что она не активна.
В «Параметрах» → «Сеть и Интернет» → «Дополнительные параметры общего доступа» отключите «Общий доступ с парольной защитой» (или наоборот включите для ограничения).
В реестре или в локальной политике безопасности запретите анонимные перечисления (для домашних редакций это сложнее, но через gpedit.msc или SecPol.msc – «Политика безопасности Windows» → «Локальные политики» → «Параметры безопасности» → «Дополнительные параметры сетевой безопасности»).
3. Пинг до собственного компьютера (эхо-запрос)
Откройте «Командную строку» (CMD) или PowerShell.
Выполните команду:
nginx
Copy
Edit
ping 127.0.0.1
Или:
php-template
Copy
Edit
ping <IP-адрес вашего компьютера>
Проверьте, что запросы доходят и возвращаются (Replies), убеждаясь, что система не блокирует ICMP-запросы брандмауэром Windows.
Заключение
Всегда делайте резервные копии реестра перед внесением каких-либо изменений.
Проверяйте права доступа (запуск от имени администратора).
Создавайте точку восстановления системы перед крупными изменениями.
Выполнив указанные шаги по очереди, вы продемонстрируете владение базовыми навыками по работе с реестром Windows 10, системными настройками, а также базовыми аспектами безопасности и сетевой конфигурации. При возникновении ошибок восстанавливайте систему из созданной точки восстановления или используйте сохранённый .reg-файл для возврата первоначальных параметров.
